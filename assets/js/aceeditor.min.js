function textAreaToAceEditor(e) { if (!e || "textarea" !== e.tagName.toLowerCase()) return console.warn("Addon aceeditor: Invalid Parameter for function textAreaToAceEditor()! Use only <textarea> as parameter!"), null; let o = document.createElement("div"); e.parentNode.insertBefore(o, e); let i = ace.edit(o); if (i.getSession().setValue(e.value), default_options = { showLineNumbers: !0, showGutter: !0, showInvisibles: !1, fontSize: 15, mode: "ace/mode/php" }, "object" == typeof rex) try { ace_options = JSON.parse(rex.aceeditor_options) } catch (e) { ace_options = default_options, console.warn("Addon aceeditor: Error in aceeditor-Options! Using minimum default configuration!\n" + e) } else ace_options = default_options; if (null !== e.getAttribute("readonly") && i.setReadOnly(!0), add_options = e.getAttribute("aceeditor-options"), null !== add_options) { try { new_options = JSON.parse(add_options) } catch (e) { new_options = {}, console.warn("Addon aceeditor: Error in Attribute aceeditor-options! Options ignored!") } ace_options = Object.assign(ace_options, new_options) } var t, n, a, r; i.setOptions(ace_options), o.style.width = (t = e, n = i.getOptions().fontSize, t.classList.contains("rex-js-code") ? "100%" : null !== t.getAttribute("aceeditor-width") ? t.getAttribute("aceeditor-width") : null !== t.getAttribute("cols") ? (width = Number(Number(t.getAttribute("cols")) + 1) * (Number(n) / 1.5), width + "px") : (width = t.offsetWidth, width < 400 ? "100%" : width + "px")), o.style.height = (a = e, r = i.getOptions().fontSize, a.classList.contains("rex-js-code") ? "500px" : null !== a.getAttribute("aceeditor-height") ? a.getAttribute("aceeditor-height") : (null !== a.getAttribute("rows") ? height = 1.5 * Number(Number(a.getAttribute("rows")) + 1) * Number(r) : (height = a.offsetHeight, height < 200 && (height = 200)), height + "px")), e.style.display = "none"; let s = "eclipse"; "object" == typeof rex && (s = rex.aceeditor_defaulttheme); let d = !1; if ("object" == typeof rex) { let t = null; window.matchMedia && (t = window.matchMedia("(prefers-color-scheme: dark)"), t.matches && (s = rex.aceeditor_defaultdarktheme, d = !0), document.body.classList.contains("rex-theme-light") ? s = rex.aceeditor_defaulttheme : document.body.classList.contains("rex-theme-dark") && (s = rex.aceeditor_defaultdarktheme, d = !0), t.addEventListener("change", function (e) { t.matches ? (s = rex.aceeditor_defaultdarktheme, d = !0) : s = rex.aceeditor_defaulttheme, document.body.classList.contains("rex-theme-light") ? s = rex.aceeditor_defaulttheme : document.body.classList.contains("rex-theme-dark") && (s = rex.aceeditor_defaultdarktheme, d = !0) })) } var c = e.getAttribute("aceeditor-theme"); null !== c && (s = c), i.setTheme("ace/theme/" + s); e = e.getAttribute("aceeditor-mode"); return null !== e && i.getSession().setMode("ace/mode/" + e), !0 === d ? i.container.classList.add("acerexdarkmode") : i.container.classList.add("acerexmode"), i.container.style.lineHeight = 1.5, i.renderer.updateFontSize(), i.commands.addCommand({ name: "fullScreenF11", bindKey: { win: "F11", mac: "F11" }, exec: function (e) { e.container.classList.toggle("acefullscreen"), document.querySelector("html").classList.toggle("acefullscreenhtml"), e.resize() } }), i.commands.addCommand({ name: "fullScreenESC", bindKey: { win: "ESC", mac: "ESC" }, exec: function (e) { e.container.classList.toggle("acefullscreen"), document.querySelector("html").classList.toggle("acefullscreenhtml"), e.resize() } }), i.session.addEventListener("change", function (e) { let t = o.nextElementSibling; t.value = i.getSession().getValue() }), i } "function" == typeof $ && $(document).on("rex:ready", function () { var e, o = document.querySelectorAll(rex.aceeditor_selectors); 0 < o.length && ((e = document.createElement("script")).src = "../assets/addons/aceeditor/vendor/aceeditor/ace.js", document.head.appendChild(e), e.onload = function () { for (var e = 0; e < o.length; e++) { var t = o[e]; editor = textAreaToAceEditor(t) } }) });